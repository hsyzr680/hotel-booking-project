# اقرأني الآن — دليل سريع

## ما تم تنفيذه

- استخدام **ملف `.env` واحد فقط** (تم حذف `.env.local` و `.env.production`)
- إعداد `schema.prisma` على **PostgreSQL** مع `env("DATABASE_URL")`
- إصلاح أخطاء البناء (Suspense لصفحة الحجز، صفحات ديناميكية، إزالة خيار غير معروف من next.config)
- البناء ينجح حتى لو قاعدة البيانات غير متاحة وقت البناء

---

## ما يلزمك أنت

### 1. رابط Railway الصحيح

ملف `.env` حالياً فيه رابط مثال. تحتاج **Public URL** الحقيقي من Railway:

1. ادخل إلى [railway.app/dashboard](https://railway.app/dashboard)
2. افتح مشروعك → خدمة **Postgres**
3. تبويب **Connect** → انسخ **Public URL** (ليس Internal)
4. افتح `.env` وعدّل `DATABASE_URL` بهذا الرابط ثم احفظ

### 2. مزامنة الجداول

بعد تحديث `DATABASE_URL` في `.env` نفّذ:

```bash
npx prisma db push --accept-data-loss
npm run db:seed
```

### 3. تشغيل المشروع

```bash
npm run dev
```

ثم افتح: [http://localhost:3000](http://localhost:3000)

---

## رفع على Vercel

في Vercel → مشروعك → **Settings** → **Environment Variables** أضف:

- `DATABASE_URL` = نفس الرابط من Railway (Public URL)
- `NEXTAUTH_SECRET` = أي نص عشوائي طويل
- `NEXTAUTH_URL` = رابط موقعك على Vercel (مثل `https://xxx.vercel.app`)

ثم أعد النشر (Redeploy).

---

## الخلاصة

| الملف / الأمر | الحالة |
|---------------|--------|
| `.env` | ✅ واحد فقط — ضع فيه `DATABASE_URL` الحقيقي من Railway |
| `prisma/schema.prisma` | ✅ `postgresql` و `env("DATABASE_URL")` |
| `npm run build` | ✅ يعمل |
| `npx prisma db push` | ⏳ بعد تحديث `DATABASE_URL` في `.env` |

بعد وضع **Public URL** من Railway في `.env` وتشغيل `npx prisma db push` و `npm run db:seed` يكون كل شيء جاهزاً.
