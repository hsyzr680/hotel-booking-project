# ğŸ”§ Ø­Ù„ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø´Ø§Ø¦Ø¹Ø© ÙÙŠ Vercel

## ğŸ¯ Ø¯Ù„ÙŠÙ„ Ø³Ø±ÙŠØ¹ Ù„Ø­Ù„ Ø£ÙŠ Ù…Ø´ÙƒÙ„Ø© ØªÙˆØ§Ø¬Ù‡Ùƒ

---

## 1ï¸âƒ£ Ø®Ø·Ø£: "Failed to collect page data"

### Ø§Ù„Ø£Ø³Ø¨Ø§Ø¨:
- âŒ Prisma ÙŠØ­Ø§ÙˆÙ„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¨Ù†Ø§Ø¡
- âŒ NEXTAUTH_SECRET ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯

### âœ… Ø§Ù„Ø­Ù„:
**ØªÙ… Ø¥ØµÙ„Ø§Ø­Ù‡ Ø¨Ø§Ù„ÙØ¹Ù„!** Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ø§Ù„Ø£Ø®ÙŠØ±Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ© Ø­Ù„Øª Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø´ÙƒÙ„Ø©:
- `src/lib/auth.ts`
- `src/lib/prisma.ts`
- `next.config.js`

Ø¥Ø°Ø§ Ù…Ø§ Ø²Ø§Ù„ Ø§Ù„Ø®Ø·Ø£ Ù…ÙˆØ¬ÙˆØ¯:
```bash
# Ø§Ø­Ø°Ù node_modules ÙˆØ£Ø¹Ø¯ Ø§Ù„ØªØ«Ø¨ÙŠØª
rm -rf node_modules
rm package-lock.json
npm install

# Ø±ÙØ¹ Ù„Ù„Ù€ GitHub
git add .
git commit -m "Fix: Reinstall dependencies"
git push
```

---

## 2ï¸âƒ£ Ø®Ø·Ø£: "NEXTAUTH_SECRET is not defined"

### Ø§Ù„Ø£Ø³Ø¨Ø§Ø¨:
- âŒ Ù„Ù… ØªØ¶Ù `NEXTAUTH_SECRET` ÙÙŠ Vercel Environment Variables

### âœ… Ø§Ù„Ø­Ù„:
1. Ø§Ø°Ù‡Ø¨ Ù„Ù€ [vercel.com](https://vercel.com)
2. Ø§ÙØªØ­ Ù…Ø´Ø±ÙˆØ¹Ùƒ
3. **Settings** â†’ **Environment Variables**
4. Ø£Ø¶Ù:
   ```
   Name: NEXTAUTH_SECRET
   Value: <Ø§Ø¶ØºØ· Generate Ø£Ùˆ Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø£Ù…Ø± Ø§Ù„ØªØ§Ù„ÙŠ>
   ```

**ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ù…ÙØªØ§Ø­:**
```bash
# Ø¹Ù„Ù‰ Windows PowerShell
[Convert]::ToBase64String((1..32 | ForEach-Object { Get-Random -Maximum 256 }))

# Ø¹Ù„Ù‰ Mac/Linux
openssl rand -base64 32

# Ø£Ùˆ Ù…Ù† Ù…ÙˆÙ‚Ø¹
https://generate-secret.vercel.app/32
```

5. Ø§Ø­ÙØ¸ ÙˆØ£Ø¹Ø¯ Deploy:
   ```
   Deployments â†’ Ø£Ø­Ø¯Ø« deployment â†’ Redeploy
   ```

---

## 3ï¸âƒ£ Ø®Ø·Ø£: "Can't reach database server"

### Ø§Ù„Ø£Ø³Ø¨Ø§Ø¨:
- âŒ `DATABASE_URL` ØºÙŠØ± ØµØ­ÙŠØ­
- âŒ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ø§ ØªØ¹Ù…Ù„
- âŒ IP ØºÙŠØ± Ù…Ø³Ù…ÙˆØ­ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

### âœ… Ø§Ù„Ø­Ù„:

#### Ø£) ØªØ­Ù‚Ù‚ Ù…Ù† DATABASE_URL:
```
Vercel â†’ Settings â†’ Environment Variables â†’ DATABASE_URL
```

ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø´ÙƒÙ„:
```
postgresql://username:password@host:5432/database
```

#### Ø¨) Ø¥Ø°Ø§ Ø§Ø³ØªØ®Ø¯Ù…Øª Supabase:
1. Ø§Ø°Ù‡Ø¨ Ù„Ù€ [supabase.com](https://supabase.com)
2. Ø§ÙØªØ­ Ù…Ø´Ø±ÙˆØ¹Ùƒ
3. **Settings** â†’ **Database** â†’ **Connection String**
4. Ø§Ù†Ø³Ø® **URI** (Ù„ÙŠØ³ Transaction)
5. ØºÙŠÙ‘Ø± `[YOUR-PASSWORD]` Ø¨ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ©
6. Ø¶Ø¹Ù‡ ÙÙŠ Vercel Environment Variables

#### Ø¬) Ø¥Ø°Ø§ Ø§Ø³ØªØ®Ø¯Ù…Øª Neon:
1. Ø§Ø°Ù‡Ø¨ Ù„Ù€ [neon.tech](https://neon.tech)
2. Ø§ÙØªØ­ Ù…Ø´Ø±ÙˆØ¹Ùƒ
3. **Dashboard** â†’ **Connection Details**
4. Ø§Ù†Ø³Ø® **Connection String**
5. Ø¶Ø¹Ù‡ ÙÙŠ Vercel

#### Ø¯) ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø³Ù…Ø§Ø­ Ù„Ù€ Vercel:
ÙÙŠ Supabase Ø£Ùˆ NeonØŒ ØªØ£ÙƒØ¯ Ù…Ù†:
- âœ… **Allow all IP addresses** Ù…ÙØ¹Ù‘Ù„
- Ø£Ùˆ Ø£Ø¶Ù IP ranges Ø§Ù„Ø®Ø§Øµ Ø¨Ù€ Vercel

---

## 4ï¸âƒ£ Ø®Ø·Ø£: "PrismaClient is unable to run in browser"

### Ø§Ù„Ø£Ø³Ø¨Ø§Ø¨:
- âŒ Ø§Ø³ØªØ®Ø¯Ù…Øª Prisma ÙÙŠ Client Component

### âœ… Ø§Ù„Ø­Ù„:
ØªØ£ÙƒØ¯ Ø£Ù† Prisma ÙŠÙØ³ØªØ®Ø¯Ù… ÙÙ‚Ø· ÙÙŠ:
- âœ… Server Components
- âœ… API Routes (`app/api/...`)
- âœ… Server Actions

**Ù…Ø«Ø§Ù„ ØµØ­ÙŠØ­:**
```typescript
// app/api/hotels/route.ts âœ…
import { prisma } from '@/lib/prisma'

export async function GET() {
  const hotels = await prisma.hotel.findMany()
  return Response.json(hotels)
}
```

**Ù…Ø«Ø§Ù„ Ø®Ø§Ø·Ø¦:**
```typescript
// app/hotels/page.tsx âŒ (Client Component)
'use client'
import { prisma } from '@/lib/prisma' // âŒ Ø®Ø·Ø£!
```

**Ø§Ù„Ø­Ù„ Ø§Ù„ØµØ­ÙŠØ­:**
```typescript
// app/hotels/page.tsx âœ…
async function HotelsPage() {
  const response = await fetch('/api/hotels')
  const hotels = await response.json()
  return <div>{/* ... */}</div>
}
```

---

## 5ï¸âƒ£ Ø®Ø·Ø£: "Module not found: 'next-auth'"

### Ø§Ù„Ø£Ø³Ø¨Ø§Ø¨:
- âŒ Ù„Ù… ØªÙØ«Ø¨Ù‘Øª Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­

### âœ… Ø§Ù„Ø­Ù„:
```bash
# Ø§Ø­Ø°Ù ÙˆØ£Ø¹Ø¯ Ø§Ù„ØªØ«Ø¨ÙŠØª
rm -rf node_modules package-lock.json
npm install

# ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ next-auth
npm list next-auth

# Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯ØŒ Ø«Ø¨Ù‘ØªÙ‡
npm install next-auth

# Ø±ÙØ¹ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª
git add package.json package-lock.json
git commit -m "Fix: Reinstall dependencies"
git push
```

---

## 6ï¸âƒ£ Ø®Ø·Ø£: "Prisma Client not generated"

### Ø§Ù„Ø£Ø³Ø¨Ø§Ø¨:
- âŒ Ù„Ù… ÙŠØªÙ… ØªÙˆÙ„ÙŠØ¯ Prisma Client

### âœ… Ø§Ù„Ø­Ù„:
**ØªÙ… Ø¥ØµÙ„Ø§Ø­Ù‡!** Ø£Ø¶ÙÙ†Ø§ `postinstall` script ÙÙŠ `package.json`.

Ø¥Ø°Ø§ Ù…Ø§ Ø²Ø§Ù„ Ø§Ù„Ø®Ø·Ø£ Ù…ÙˆØ¬ÙˆØ¯:
```bash
# Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ Ø§Ù„Ù…Ø­Ù„ÙŠ
npx prisma generate

# ØªØ£ÙƒØ¯ Ù…Ù† package.json
"scripts": {
  "postinstall": "prisma generate"
}

# Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯ØŒ Ø£Ø¶ÙÙ‡
git add package.json
git commit -m "Fix: Add postinstall script"
git push
```

ÙÙŠ VercelØŒ Ø£Ø¹Ø¯ Deploy:
```
Deployments â†’ Redeploy
```

---

## 7ï¸âƒ£ Ø®Ø·Ø£: "Build exceeded maximum duration"

### Ø§Ù„Ø£Ø³Ø¨Ø§Ø¨:
- âŒ Ø§Ù„Ø¨Ù†Ø§Ø¡ ÙŠØ£Ø®Ø° ÙˆÙ‚Øª Ø·ÙˆÙŠÙ„ (Ø£ÙƒØ«Ø± Ù…Ù† Ø§Ù„Ø­Ø¯ Ø§Ù„Ù…Ø³Ù…ÙˆØ­)

### âœ… Ø§Ù„Ø­Ù„:

#### Ø£) Ø­Ø°Ù node_modules Ù…Ù† Git:
```bash
# ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ ÙÙŠ .gitignore
echo "node_modules/" >> .gitignore

# Ø§Ø­Ø°Ù Ù…Ù† Git
git rm -r --cached node_modules
git commit -m "Remove node_modules from Git"
git push
```

#### Ø¨) ØªØ­Ø³ÙŠÙ† Build:
ÙÙŠ `package.json`:
```json
"scripts": {
  "build": "prisma generate && next build",
  "postinstall": "prisma generate"
}
```

#### Ø¬) ØªØ±Ù‚ÙŠØ© Ø®Ø·Ø© Vercel (Ø¥Ø°Ø§ Ù„Ø²Ù… Ø§Ù„Ø£Ù…Ø±):
- Free Plan: 45 Ø«Ø§Ù†ÙŠØ©
- Hobby: 45 Ø«Ø§Ù†ÙŠØ©
- Pro: 15 Ø¯Ù‚ÙŠÙ‚Ø©

---

## 8ï¸âƒ£ Ø®Ø·Ø£: "Environment variables not found"

### Ø§Ù„Ø£Ø³Ø¨Ø§Ø¨:
- âŒ Ù„Ù… ØªØ¶Ù Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª ÙÙŠ Vercel

### âœ… Ø§Ù„Ø­Ù„:
ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø¶Ø§ÙØ© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:

```env
DATABASE_URL=postgresql://...
NEXTAUTH_SECRET=<random-secret>
NEXTAUTH_URL=https://your-project.vercel.app
```

**Ø®Ø·ÙˆØ§Øª:**
1. Vercel â†’ Settings â†’ Environment Variables
2. Ø£Ø¶Ù ÙƒÙ„ Ù…ØªØºÙŠØ± Ø¹Ù„Ù‰ Ø­Ø¯Ø©
3. ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ø®ØªÙŠØ§Ø±:
   - âœ… Production
   - âœ… Preview
   - âœ… Development
4. Ø§Ø­ÙØ¸
5. Redeploy

---

## 9ï¸âƒ£ Ø®Ø·Ø£: "Database migration needed"

### Ø§Ù„Ø£Ø³Ø¨Ø§Ø¨:
- âŒ Ù„Ù… ØªÙÙ†Ø´Ø¦ Ø¬Ø¯Ø§ÙˆÙ„ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

### âœ… Ø§Ù„Ø­Ù„:
```bash
# Ø«Ø¨Ù‘Øª Vercel CLI
npm i -g vercel

# Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„
vercel login

# Ø§Ø±Ø¨Ø· Ø§Ù„Ù…Ø´Ø±ÙˆØ¹
vercel link

# Ø§Ø³Ø­Ø¨ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦ÙŠØ©
vercel env pull .env.local

# Ø£Ù†Ø´Ø¦ Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„
npx prisma db push

# Ø£Ø¶Ù Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
npm run db:seed
```

---

## ğŸ”Ÿ Ø®Ø·Ø£: "502 Bad Gateway" Ø£Ùˆ "504 Gateway Timeout"

### Ø§Ù„Ø£Ø³Ø¨Ø§Ø¨:
- âŒ Function ØªØ£Ø®Ø° ÙˆÙ‚Øª Ø·ÙˆÙŠÙ„ Ù„Ù„ØªÙ†ÙÙŠØ°
- âŒ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø·ÙŠØ¦Ø©

### âœ… Ø§Ù„Ø­Ù„:

#### Ø£) ØªØ­Ø³ÙŠÙ† Queries:
```typescript
// âŒ Ø¨Ø·ÙŠØ¡
const hotels = await prisma.hotel.findMany({
  include: { rooms: true, reviews: true, bookings: true }
})

// âœ… Ø£Ø³Ø±Ø¹
const hotels = await prisma.hotel.findMany({
  select: { id: true, name: true, city: true }
})
```

#### Ø¨) Ø¥Ø¶Ø§ÙØ© Timeout:
```typescript
// ÙÙŠ API Route
export const maxDuration = 30 // 30 Ø«Ø§Ù†ÙŠØ©
```

#### Ø¬) Ø§Ø³ØªØ®Ø¯Ø§Ù… Connection Pooling:
ÙÙŠ Supabase/NeonØŒ Ø§Ø³ØªØ®Ø¯Ù… Connection Pooling URL Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Direct URL.

---

## ğŸ†˜ Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ´Ø®ÙŠØµ Ø§Ù„Ø¹Ø§Ù…Ø©:

### 1. ØªØ­Ù‚Ù‚ Ù…Ù† Vercel Logs:
```
Vercel â†’ Deployments â†’ Click deployment â†’ View Function Logs
```

### 2. Ø§Ø®ØªØ¨Ø± Ù…Ø­Ù„ÙŠØ§Ù‹:
```bash
# Ø§Ø®ØªØ¨Ø± Ø§Ù„Ø¨Ù†Ø§Ø¡
npm run build

# Ø§Ø®ØªØ¨Ø± Ø§Ù„ØªØ´ØºÙŠÙ„
npm start

# Ø§Ø®ØªØ¨Ø± Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
npx prisma studio
```

### 3. ØªØ­Ù‚Ù‚ Ù…Ù† Environment Variables:
```bash
# Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ Ø§Ù„Ù…Ø­Ù„ÙŠ
cat .env

# ÙÙŠ Vercel
Vercel â†’ Settings â†’ Environment Variables
```

### 4. ØªØ­Ù‚Ù‚ Ù…Ù† Browser Console:
```
Ø§ÙØªØ­ Ø§Ù„Ù…ÙˆÙ‚Ø¹ â†’ F12 â†’ Console
```

---

## ğŸ“‹ Checklist Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø³Ø±ÙŠØ¹:

Ø¹Ù†Ø¯ Ù…ÙˆØ§Ø¬Ù‡Ø© Ø£ÙŠ Ø®Ø·Ø£ØŒ ØªØ­Ù‚Ù‚ Ù…Ù†:

- [ ] âœ… Environment Variables Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ Vercel
- [ ] âœ… DATABASE_URL ØµØ­ÙŠØ­ ÙˆÙŠØ¹Ù…Ù„
- [ ] âœ… Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¹Ù…Ù„ (Supabase/Neon)
- [ ] âœ… Prisma Client Ù…ÙˆÙ„Ù‘Ø¯ (`npx prisma generate`)
- [ ] âœ… Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ù…ÙˆØ¬ÙˆØ¯Ø© (`npx prisma db push`)
- [ ] âœ… Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø®Ø·Ø§Ø¡ ÙÙŠ Logs
- [ ] âœ… Build ÙŠÙ†Ø¬Ø­ Ù…Ø­Ù„ÙŠØ§Ù‹ (`npm run build`)
- [ ] âœ… Node modules Ù…Ø­Ø¯Ù‘Ø«Ø© (`npm install`)

---

## ğŸ”— Ø±ÙˆØ§Ø¨Ø· Ù…ÙÙŠØ¯Ø©:

- [Vercel Docs](https://vercel.com/docs)
- [Prisma Troubleshooting](https://www.prisma.io/docs/guides/other/troubleshooting)
- [NextAuth.js Errors](https://next-auth.js.org/errors)
- [Next.js Build Errors](https://nextjs.org/docs/messages)

---

## ğŸ“š Ù…Ù„ÙØ§Øª Ù…Ø³Ø§Ø¹Ø¯Ø© Ø£Ø®Ø±Ù‰:

1. **AUTH_BUILD_FIX.md** - Ø´Ø±Ø­ Ø¥ØµÙ„Ø§Ø­Ø§Øª NextAuth
2. **VERCEL_FIX.md** - Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù†Ø´Ø± Ø§Ù„ÙƒØ§Ù…Ù„
3. **Ø§Ù‚Ø±Ø£Ù†ÙŠ_Ø£ÙˆÙ„Ø§Ù‹.md** - Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø³Ø±ÙŠØ¹Ø©
4. **LATEST_CHANGES.md** - Ø¢Ø®Ø± Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª

---

**ğŸ’¡ Ù†ØµÙŠØ­Ø©:** Ø§Ø­ÙØ¸ Ù‡Ø°Ø§ Ø§Ù„Ù…Ù„Ù ÙƒÙ…Ø±Ø¬Ø¹ Ø³Ø±ÙŠØ¹ Ø¹Ù†Ø¯ Ù…ÙˆØ§Ø¬Ù‡Ø© Ø£ÙŠ Ù…Ø´ÙƒÙ„Ø©!

**ğŸ‰ ÙÙŠ 99% Ù…Ù† Ø§Ù„Ø­Ø§Ù„Ø§ØªØŒ Ø§Ù„Ù…Ø´ÙƒÙ„Ø© ØªÙƒÙˆÙ† ÙÙŠ Environment Variables Ø£Ùˆ DATABASE_URL!**
