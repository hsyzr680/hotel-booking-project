# ๐ง ุญู ุฌููุน ูุดุงูู ุงูุฑูุน ุนูู Vercel - ุฏููู ุดุงูู

## โ ุชู ุงูุชุญูู ูู ุฌููุน ุงููููุงุช:

### 1๏ธโฃ `schema.prisma` - โ ุตุญูุญ 100%
```prisma
datasource db {
  provider = "postgresql"        // โ PostgreSQL
  url      = env("DATABASE_URL")  // โ ูุณุชุฎุฏู env()
}
```
**ุงููุชูุฌุฉ:** ูุง ูุญุชุงุฌ ุชุนุฏูู โ

---

### 2๏ธโฃ `package.json` - โ ุตุญูุญ 100%
```json
{
  "scripts": {
    "build": "prisma generate && next build",  // โ ูููุฏ Prisma ูุจู Build
    "postinstall": "prisma generate"           // โ ุชููุงุฆู ุจุนุฏ install
  }
}
```
**ุงููุชูุฌุฉ:** ูุง ูุญุชุงุฌ ุชุนุฏูู โ

---

### 3๏ธโฃ `vercel.json` - โ ุตุญูุญ 100%
```json
{
  "buildCommand": "prisma generate && next build",  // โ ุตุญูุญ
  "installCommand": "npm install"                   // โ ุตุญูุญ
}
```
**ุงููุชูุฌุฉ:** ูุง ูุญุชุงุฌ ุชุนุฏูู โ

---

### 4๏ธโฃ `.env.local` - โ๏ธ ูุญุชุงุฌ DATABASE_URL ุญูููู
```env
DATABASE_URL="ุถุน_ุฑุงุจุท_Supabase_ููุง"  // โ ูุญุชุงุฌ ุฑุงุจุท ุญูููู
NEXTAUTH_SECRET="..."                  // โ ุฌุงูุฒ
NEXTAUTH_URL="http://localhost:3000"   // โ ุฌุงูุฒ
```
**ุงููุชูุฌุฉ:** ูุญุชุงุฌ ุชุญุฏูุซ DATABASE_URL ููุท

---

## ๐ฏ ุงูุญู ุงูุดุงูู (ุฎุทูุฉ ุจุฎุทูุฉ):

### ุงููุดููุฉ ุงูุฃุณุงุณูุฉ:
```
โ DATABASE_URL ุบูุฑ ููุฌูุฏ ุฃู ุบูุฑ ุตุญูุญ ูู Vercel
โ
Prisma ูุง ูุณุชุทูุน ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
โ
Build ููุดู
```

---

## ๐ฅ ุงูุญู ุงููุงูู (5 ุฎุทูุงุช):

### โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
### ุงูุฎุทูุฉ 1๏ธโฃ: ุงุญุตู ุนูู ุฑุงุจุท Supabase (ุฅุฐุง ูู ููู ุนูุฏู)
### โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

#### ุฅุฐุง ุนูุฏู Supabase ุจุงููุนู:
```
1. ุงุฐูุจ ูู https://supabase.com
2. ุงูุชุญ ูุดุฑูุนู
3. Settings โ๏ธ
4. Database
5. Connection String
6. ุงุฎุชุฑ "URI" (ูู Transaction)
7. Copy
8. ุบููุฑ [YOUR-PASSWORD] ุจูููุฉ ุงููุฑูุฑ ุงูุญููููุฉ
```

#### ุฅุฐุง ูุง ุนูุฏู Supabase:
```
1. ุงุฐูุจ ูู https://supabase.com
2. Sign up โ Continue with GitHub
3. New Project
4. ุงูุชุจ:
   - Name: hotel-booking
   - Password: <ุงุฎุชุฑ ูููุฉ ุณุฑ ูููุฉ ูุงุญูุธูุง>
   - Region: ุงุฎุชุฑ ุงูุฃูุฑุจ
5. Create new project
6. ุงูุชุธุฑ 2-3 ุฏูุงุฆู
7. ุจุนุฏูุง ููุฐ ุงูุฎุทูุงุช ุฃุนูุงู
```

**ุงูุฑุงุจุท ุณูููู ุจูุฐุง ุงูุดูู:**
```
postgresql://postgres.xxxxx:YOUR-PASSWORD@aws-0-xx.pooler.supabase.com:5432/postgres
```

---

### โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
### ุงูุฎุทูุฉ 2๏ธโฃ: ุญุฏูุซ ููู .env.local (ุนูู ุฌูุงุฒู)
### โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

**ุงูุชุญ ููู `.env.local`** ูุบููุฑ ูุฐุง ุงูุณุทุฑ:

```env
# ูุจู (ุบูุท):
DATABASE_URL="ุถุน_ุฑุงุจุท_Supabase_ููุง"

# ุจุนุฏ (ุตุญ):
DATABASE_URL="postgresql://postgres.xxxxx:YOUR-PASSWORD@aws-0-xx.pooler.supabase.com:5432/postgres"
```

**ุงุญูุธ ุงูููู (Ctrl+S)**

---

### โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
### ุงูุฎุทูุฉ 3๏ธโฃ: ุฃุถู ุงููุชุบูุฑุงุช ูู Vercel (ููู ุฌุฏุงู!)
### โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

**ุงุฐูุจ ูู:** https://vercel.com/dashboard

```
1. ุงูุชุญ ูุดุฑูุนู (hotel-booking)

2. Settings (ูู ุงูุฃุนูู)

3. Environment Variables (ูู ุงููุงุฆูุฉ ุงููุณุฑู)

4. ุฃุถู ุงููุชุบูุฑ ุงูุฃูู:
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
   โ Key:   DATABASE_URL                     โ
   โ Value: <ุงูุตู ุฑุงุจุท Supabase ููุง>       โ
   โ                                         โ
   โ Environments:                           โ
   โ โ Production                           โ
   โ โ Preview                              โ
   โ โ Development                          โ
   โ                                         โ
   โ [Save]                                  โ
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

5. ุฃุถู ุงููุชุบูุฑ ุงูุซุงูู:
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
   โ Key:   NEXTAUTH_SECRET                  โ
   โ Value: 7K9mNpR2tX5wY8zB3cD6...         โ
   โ                                         โ
   โ (ุงูุณุฎู ูู ููู .env.local)              โ
   โ                                         โ
   โ Environments:                           โ
   โ โ Production                           โ
   โ โ Preview                              โ
   โ โ Development                          โ
   โ                                         โ
   โ [Save]                                  โ
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

6. ุฃุถู ุงููุชุบูุฑ ุงูุซุงูุซ:
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
   โ Key:   NEXTAUTH_URL                     โ
   โ Value: https://your-project.vercel.app  โ
   โ                                         โ
   โ (ุบููุฑ your-project ุจุงุณู ูุดุฑูุนู)       โ
   โ                                         โ
   โ Environments:                           โ
   โ โ Production                           โ
   โ โ Preview                              โ
   โ โ Development                          โ
   โ                                         โ
   โ [Save]                                  โ
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**โ๏ธ ููู ุฌุฏุงู:**
- โ ุชุฃูุฏ ุฃูู ุงุฎุชุฑุช Production + Preview + Development ููุซูุงุซุฉ
- โ DATABASE_URL ูุฌุจ ุฃู ูููู ููุณ ุงูุฑุงุจุท ูู .env.local
- โ ูุง ุชูุณู ุญูุธ ูู ูุชุบูุฑ ูุจู ุงูุงูุชูุงู ููุชุงูู

---

### โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
### ุงูุฎุทูุฉ 4๏ธโฃ: ุฃุนุฏ Deploy ุนูู Vercel
### โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

**ูู Vercel Dashboard:**

```
1. ุงุฐูุจ ูุชุจููุจ "Deployments"

2. ุณุชุดูู ุขุฎุฑ deployment (ูููู ูููู ุฃุญูุฑ โ ุฅุฐุง ูุดู)

3. ุงุถุบุท ุนูู ุงูุซูุงุซ ููุงุท (โฎ) ุฌูุจู

4. ุงุฎุชุฑ "Redeploy"

5. ูู ุงููุงูุฐุฉ:
   - ุชุฃูุฏ ุฃู "Use existing Build Cache" ุบูุฑ ููุนูู
   - ุงุถุบุท "Redeploy"

6. ุงูุชุธุฑ 2-3 ุฏูุงุฆู

7. ุฑุงูุจ Build Logs:
   - ูุฌุจ ูุทูุน "Building..."
   - ุซู "Generating static pages..."
   - ุซู "Build completed successfully" โ
```

**ุฅุฐุง Build ูุฌุญ:**
```
โ ุงูู deployment ุณูุตูุฑ ุฃุฎุถุฑ
โ ุฑุงุญ ูุนุทูู ุฑุงุจุท: https://your-project.vercel.app
```

**ุฅุฐุง Build ูุดู:**
```
โ ุงุถุบุท ุนูู ุงูู deployment
โ ุงุถุบุท "View Function Logs"
โ ุงุฑุณู ูู ุงูุฎุทุฃ ุนุดุงู ุฃุณุงุนุฏู
```

---

### โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
### ุงูุฎุทูุฉ 5๏ธโฃ: ุฃูุดุฆ ุฌุฏุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช (ุจุนุฏ ูุฌุงุญ Build)
### โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

**ุงูุชุญ PowerShell ูู ูุฌูุฏ ุงููุดุฑูุน:**

```powershell
# ุงูุฃูุฑ 1: ุงุณุญุจ Environment Variables ูู Vercel
vercel env pull .env.local

# ุงูุฃูุฑ 2: ุฃูุดุฆ ุงูุฌุฏุงูู ูู Supabase
npx prisma db push

# ุงูุฃูุฑ 3: ุฃุถู ุจูุงูุงุช ุชุฌุฑูุจูุฉ
npm run db:seed
```

**ููุงุญุธุงุช:**
- ุฅุฐุง ุทูุจ ููู `vercel login`ุ ููุฐู ูุงุถุบุท Enter
- ุฅุฐุง ุทูุน ุฎุทุฃ ูู `prisma db push`ุ ุชุญูู ูู DATABASE_URL

---

## โ ุงูุชุญูู ูู ูุฌุงุญ ุงูุญู:

### 1. ูู Vercel:
```
โ ุขุฎุฑ Deployment ุฃุฎุถุฑ
โ Build Logs ูููู "Build completed"
โ ุงููููุน ููุชุญ ุจุฏูู ุฃุฎุทุงุก
```

### 2. ูู Supabase:
```
โ ุงุฐูุจ ูู Table Editor
โ ูุฌุจ ุชุดูู ุงูุฌุฏุงูู:
   - User
   - Hotel
   - Room
   - Booking
   - Review
   - Favorite
```

### 3. ูู ุงููุชุตูุญ:
```
โ ุงูุชุญ: https://your-project.vercel.app
โ ูุฌุจ ููุชุญ ุงููููุน ุจุฏูู ุฃุฎุทุงุก
โ ุฌุฑูุจ ุชุณุฌูู ุงูุฏุฎูู:
   Email: admin@test.com
   Password: admin123
```

---

## ๐ ุญู ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ:

### ุฎุทุฃ 1: "Can't reach database server at HOST:5432"
```
โ ุงูุณุจุจ: DATABASE_URL ุบูุฑ ููุฌูุฏ ูู Vercel

โ ุงูุญู:
1. ุชุฃูุฏ ูู ุฅุถุงูุฉ DATABASE_URL ูู Vercel Environment Variables
2. ุชุญูู ุฃู ุงูุฑุงุจุท ุตุญูุญ (ุงุจุฏุฃ ุจู postgresql://)
3. ุชุฃูุฏ ุฃูู ุงุฎุชุฑุช Production + Preview + Development
4. Redeploy
```

---

### ุฎุทุฃ 2: "NEXTAUTH_SECRET is not defined"
```
โ ุงูุณุจุจ: NEXTAUTH_SECRET ุบูุฑ ููุฌูุฏ ูู Vercel

โ ุงูุญู:
1. ุฃุถู NEXTAUTH_SECRET ูู Vercel Environment Variables
2. ุงููููุฉ: 7K9mNpR2tX5wY8zB3cD6fG9hJ2kL5nP8qS1tV4wX7zA0bC3eF6gH9jK2mN5pR8s
3. ุงุฎุชุฑ Production + Preview + Development
4. Save
5. Redeploy
```

---

### ุฎุทุฃ 3: "Prisma Client not found"
```
โ ุงูุณุจุจ: prisma generate ูู ููููุฐ

โ ุงูุญู:
ุชู ุฅุตูุงุญู ุชููุงุฆูุงู! package.json ูุญุชูู ุนูู:
- "build": "prisma generate && next build"
- "postinstall": "prisma generate"

ุฅุฐุง ูุง ุฒุงู ุงูุฎุทุฃ ููุฌูุฏ:
npm install
git add package-lock.json
git commit -m "Update dependencies"
git push
```

---

### ุฎุทุฃ 4: "Failed to collect page data"
```
โ ุงูุณุจุจ: API Routes ุชุญุงูู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช ุฃุซูุงุก Build

โ ุงูุญู:
ุชู ุฅุตูุงุญู! ุฌููุน API Routes ุชุญุชูู ุนูู:
export const dynamic = 'force-dynamic'
```

---

### ุฎุทุฃ 5: Build ูุฃุฎุฐ ููุช ุทููู ูููุดู
```
โ ุงูุณุจุจ: ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุทูุฆุฉ ุฃู ุบูุฑ ูุชุงุญุฉ

โ ุงูุญู:
1. ุชุญูู ูู Supabase ุฃู ุงููุดุฑูุน ูุนูู
2. ุฌุฑูุจ ุงูุงุชุตุงู ูุญููุงู: npx prisma db pull
3. ุฅุฐุง ูุฌุญ ูุญููุงู ูููู ูุดู ุนูู Vercel:
   - ุชุญูู ูู DATABASE_URL ูู Vercel ูุฑุฉ ุซุงููุฉ
   - ุชุฃูุฏ ุฃูู ููุณ ุงูุฑุงุจุท ุงูู ูุดุชุบู ูุญููุงู
```

---

## ๐ Checklist ุงูุดุงูู:

### ูุจู ุงูุฑูุน:
- [x] โ schema.prisma ูุณุชุฎุฏู PostgreSQL
- [x] โ schema.prisma ูุณุชุฎุฏู env("DATABASE_URL")
- [x] โ package.json ูุญุชูู ุนูู prisma generate ูู build
- [x] โ package.json ูุญุชูู ุนูู postinstall
- [x] โ vercel.json ููุฌูุฏ ูุตุญูุญ
- [x] โ ุฌููุน API Routes ูููุง dynamic export
- [ ] โณ DATABASE_URL ููุฌูุฏ ูู .env.local
- [ ] โณ DATABASE_URL ููุฌูุฏ ูู Vercel

### ุจุนุฏ ุงูุฑูุน:
- [ ] โณ Build ูุฌุญ ุนูู Vercel
- [ ] โณ Environment Variables ููุฌูุฏุฉ (3 ูุชุบูุฑุงุช)
- [ ] โณ ุงููููุน ููุชุญ ุจุฏูู ุฃุฎุทุงุก
- [ ] โณ ููุฐุช prisma db push
- [ ] โณ ููุฐุช npm run db:seed
- [ ] โณ ุชุณุฌูู ุงูุฏุฎูู ูุนูู

---

## ๐ฏ ุงูุฃูุงูุฑ ูููุณุฎ ุงููุจุงุดุฑ:

### ุนูู ุฌูุงุฒู (ุจุนุฏ ุชุญุฏูุซ .env.local):
```bash
# ุงุฎุชุจุฑ ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
npx prisma db pull

# ุฅุฐุง ูุฌุญุ ุฃูุดุฆ ุงูุฌุฏุงูู
npx prisma db push

# ุฃุถู ุจูุงูุงุช ุชุฌุฑูุจูุฉ
npm run db:seed

# ุดุบูู ูุญููุงู ููุงุฎุชุจุงุฑ
npm run dev
```

### ุจุนุฏ ูุฌุงุญ Build ุนูู Vercel:
```bash
# ุงุณุญุจ Environment Variables ูู Vercel
vercel env pull .env.local

# ุฃูุดุฆ ุงูุฌุฏุงูู ุนูู Supabase
npx prisma db push

# ุฃุถู ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ
npm run db:seed
```

---

## ๐ ููู ุชุชุญูู ูู DATABASE_URL:

### ุงูุฑุงุจุท ุงูุตุญูุญ ูุฌุจ:
```
โ ูุจุฏุฃ ุจู: postgresql://
โ ูุญุชูู ุนูู: username:password@host:5432/database
โ ูุง ูุญุชูู ุนูู: ูุณุงูุงุช ุฃู ุณุทูุฑ ุฌุฏูุฏุฉ
โ ูููุฉ ุงููุฑูุฑ: ุบููุฑุช [YOUR-PASSWORD] ุจุงููููุฉ ุงูุญููููุฉ
```

### ูุซุงู ููุฑุงุจุท ุงูุตุญูุญ:
```
postgresql://postgres.abcdefgh:MyPassword123@aws-0-us-east-1.pooler.supabase.com:5432/postgres
```

### ุงุฎุชุจุงุฑ ุงูุฑุงุจุท:
```bash
# ูู .env.localุ ุถุน ุงูุฑุงุจุท ุซู ููุฐ:
npx prisma db pull

# ุฅุฐุง ูุฌุญ = ุงูุฑุงุจุท ุตุญูุญ โ
# ุฅุฐุง ูุดู = ุงูุฑุงุจุท ุบูุท โ
```

---

## ๐ ุงููุชูุฌุฉ ุงููุชููุนุฉ:

ุจุนุฏ ุงุชุจุงุน ุฌููุน ุงูุฎุทูุงุช:

```
โ Build ุนูู Vercel ููุฌุญ
โ ุงููููุน ููุชุญ: https://your-project.vercel.app
โ ูุงุนุฏุฉ ุงูุจูุงูุงุช Supabase ูุชุตูุฉ
โ ุฌููุน ุงูุฌุฏุงูู ููุฌูุฏุฉ
โ ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ ูุถุงูุฉ
โ ุชุณุฌูู ุงูุฏุฎูู ูุนูู
โ ุฌููุน ุงูุตูุญุงุช ุชุนูู
```

---

## ๐ ุฅุฐุง ุงุญุชุฌุช ูุณุงุนุฏุฉ:

### ุงูุฎุทูุฉ 1: ุชุญูู ูู Logs
```
Vercel โ Deployments โ ุขุฎุฑ deployment โ View Logs
```

### ุงูุฎุทูุฉ 2: ุญุฏุฏ ุงูุฎุทุฃ
```
ุงุจุญุซ ุนู ุงูุณุทุฑ ุงูู ููู "Error:"
ุงูุณุฎ ูุงูู ุฑุณุงูุฉ ุงูุฎุทุฃ
```

### ุงูุฎุทูุฉ 3: ุฃุฑุณู ูู
```
ุงูุฎุทุฃ ุงููุงูู ูู Logs
ุญุงูุฉ Environment Variables (ููุฌูุฏุฉ ุฃู ูุง)
```

---

**โจ ุฌููุน ุงููููุงุช ุตุญูุญุฉ! ููุท ููุฐ ุงูุฎุทูุงุช ุงูุฎูุณ ูุณูุนูู ูู ุดูุก!**
