# โ ุชู ุฅุตูุงุญ ุฎุทุฃ Build ุนูู Vercel!

## ๐ฏ ุงูุฎุทุฃ ุงูุฐู ูุงู ููุฌูุฏ:
```
Error: Failed to collect page data for /api/auth/[...nextauth]
Error: Command "npm run build" exited with 1
```

---

## โ ุงูุญู ุงููุทุจู:

### ุชู ุฅุถุงูุฉ `export const dynamic = 'force-dynamic'` ูุฌููุน API Routes!

ูุฐุง ูุฎุจุฑ Next.js ุฃู ูุง ูุญุงูู pre-render ูุฐู ุงูู Routes ุฃุซูุงุก ุงูุจูุงุก.

---

## ๐ ุงููููุงุช ุงููุนุฏูุฉ:

1. โ `src/app/api/auth/[...nextauth]/route.ts`
2. โ `src/app/api/bookings/route.ts`
3. โ `src/app/api/auth/register/route.ts`
4. โ `next.config.js`

---

## ๐ ุงูุฎุทูุงุช ุงููุทููุจุฉ ุงูุขู (5 ุฏูุงุฆู):

### 1๏ธโฃ ุงุฑูุน ุงูุชุนุฏููุงุช ุนูู GitHub (ุฏูููุฉ ูุงุญุฏุฉ):

```bash
git add .
git commit -m "Fix: Prevent Next.js from pre-rendering API routes"
git push
```

---

### 2๏ธโฃ ุชุฃูุฏ ูู Environment Variables ูู Vercel (ุฏูููุชุงู):

ุงุฐูุจ ูู: **Vercel Dashboard โ ูุดุฑูุนู โ Settings โ Environment Variables**

ุชุฃูุฏ ูู ูุฌูุฏ ูุฐู ุงููุชุบูุฑุงุช:

| ุงุณู ุงููุชุบูุฑ | ุงููููุฉ | ููู ุชุญุตู ุนูููุง |
|-------------|--------|----------------|
| **DATABASE_URL** | `postgresql://...` | ูู Vercel Postgres ุฃู Supabase ุฃู Neon |
| **NEXTAUTH_SECRET** | ููุชุงุญ ุนุดูุงุฆู | `openssl rand -base64 32` ุฃู ุงุถุบุท Generate |
| **NEXTAUTH_URL** | `https://your-project.vercel.app` | ุฑุงุจุท ูุดุฑูุนู ุนูู Vercel |

**โ๏ธ ููู ุฌุฏุงู:** 
- ุฅุฐุง ูู ุชุถู ูุฐู ุงููุชุบูุฑุงุชุ Build ุณููุดู!
- ุชุฃูุฏ ูู ุงุฎุชูุงุฑ **Production + Preview + Development**

---

### 3๏ธโฃ ุงูุชุธุฑ Build ุงูุฌุฏูุฏ (2-3 ุฏูุงุฆู):

ุจุนุฏ Pushุ Vercel ุณุชุจุฏุฃ Build ุชููุงุฆูุงู.

**ุฑุงูุจ ุงูุชูุฏู:**
```
Vercel Dashboard โ Deployments โ ุฃุญุฏุซ deployment
```

**ุงุจุญุซ ุนู:**
- โ "Building..."
- โ "Generating static pages"
- โ "Build completed"
- โ "Deployment Ready" ๐

---

### 4๏ธโฃ ุฃูุดุฆ ุฌุฏุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช (ุฏูููุชุงู):

ุจุนุฏ ูุฌุงุญ Build:

```bash
# ุซุจูุช Vercel CLI (ูุฑุฉ ูุงุญุฏุฉ ููุท)
npm i -g vercel

# ุณุฌู ุฏุฎูู
vercel login

# ุงุฑุจุท ุงููุดุฑูุน
vercel link

# ุงุณุญุจ ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ
vercel env pull .env.local

# ุฃูุดุฆ ุงูุฌุฏุงูู
npx prisma db push

# ุฃุถู ุจูุงูุงุช ุชุฌุฑูุจูุฉ
npm run db:seed
```

---

## ๐ ุงูุชูู! ุงุฎุชุจุฑ ูููุนู:

ุงูุชุญ: `https://your-project.vercel.app`

**ุฌุฑูุจ ุชุณุฌูู ุงูุฏุฎูู:**
- Email: `admin@test.com`
- Password: `admin123`

---

## ๐ ููู ุชุชุฃูุฏ ุฃู ูู ุดูุก ูุนููุ

### โ Checklist:

- [ ] Build ูุฌุญ ูู Vercel (ุจุฏูู ุฃุฎุทุงุก)
- [ ] ุงููููุน ููุชุญ ุจุฏูู ูุดุงูู
- [ ] ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู ุชูุชุญ: `/api/auth/signin`
- [ ] ุชุณุชุทูุน ุชุณุฌูู ุงูุฏุฎูู ุจูุฌุงุญ
- [ ] ุนุฑุถ ุงูููุงุฏู ูุนูู
- [ ] ุงูุญุฌุฒ ูุนูู

---

## ๐ ุฅุฐุง ูุง ุฒุงู ููุงู ุฎุทุฃ:

### ุฎุทุฃ: "NEXTAUTH_SECRET is not defined"
**ุงูุญู:** ุฃุถู `NEXTAUTH_SECRET` ูู Vercel Environment Variables

---

### ุฎุทุฃ: "Can't reach database server"
**ุงูุญู:** 
1. ุชุญูู ูู `DATABASE_URL` ูู Vercel
2. ุชุฃูุฏ ุฃู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุชุนูู (Supabase/Neon)
3. ูู Supabase: Settings โ Database โ ุชุฃูุฏ ูู "Allow all IPs"

---

### ุฎุทุฃ: Build ูุง ุฒุงู ููุดู
**ุงูุญู:**
1. ุฑุงุฌุน Logs ูู Vercel ุจุงูุชูุตูู
2. ุงุจุญุซ ุนู ุงูุฎุทุฃ ุงููุญุฏุฏ
3. ุฑุงุฌุน ููู `VERCEL_BUILD_ERROR_FIX.md` ููุญููู ุงูููุตูุฉ

---

## ๐ ููุงุฑูุฉ ูุจู ูุจุนุฏ:

| ุงูุญุงูุฉ | ูุจู ุงูุฅุตูุงุญ | ุจุนุฏ ุงูุฅุตูุงุญ |
|--------|-------------|--------------|
| Build | โ ูุดู | โ ูุฌุญ |
| API Routes | โ ุฎุทุฃ pre-render | โ dynamic ููุท |
| NextAuth | โ ูุง ูุนูู | โ ูุนูู |
| ุงููููุน | โ ูุง ููุชุญ | โ ูุนูู ุจุดูู ูุงูู |

---

## ๐ก ูุง ุงูุฐู ุชู ุฅุตูุงุญูุ

### ุงููุดููุฉ:
Next.js ูุงู ูุญุงูู **pre-render** ุตูุญุงุช API ุฃุซูุงุก ุงูุจูุงุกุ ููุฐุง ูุณุจุจ ูุดู.

### ุงูุญู:
ุฅุถุงูุฉ `export const dynamic = 'force-dynamic'` ูู ุฌููุน API Routes ูุฅุฎุจุงุฑ Next.js:
- โ ูุง ุชุญุงูู pre-render ูุฐู ุงูุตูุญุงุช
- โ ุดุบูููุง ููุท ุนูุฏ ุงูุทูุจ (Runtime)

---

## ๐ ูููุงุช ูุณุงุนุฏุฉ:

- ๐ **VERCEL_BUILD_ERROR_FIX.md** - ุดุฑุญ ุชููู ููุตูู
- ๐ง **AUTH_BUILD_FIX.md** - ุฅุตูุงุญุงุช NextAuth ุงูุณุงุจูุฉ
- ๐ **ุญู_ุงูุฃุฎุทุงุก_ุงูุดุงุฆุนุฉ.md** - ุฌููุน ุงูุฃุฎุทุงุก ูุญููููุง
- โญ **ุงูุฑุฃูู_ุฃููุงู.md** - ุงูุฏููู ุงููุงูู

---

## โฑ๏ธ ุงูููุช ุงููุชููุน:

| ุงูุฎุทูุฉ | ุงูููุช |
|--------|-------|
| Push ููู GitHub | 1 ุฏูููุฉ |
| Vercel Build | 2-3 ุฏูุงุฆู |
| ุฅูุดุงุก ุงูุฌุฏุงูู | 2 ุฏูููุฉ |
| **ุงููุฌููุน** | **5-6 ุฏูุงุฆู** |

---

## ๐ ุฑุณุงูุฉ ููุงุฆูุฉ:

**ุชู ุฅุตูุงุญ ุงููุดููุฉ ุจูุฌุงุญ! ๐**

ุงูุขู ุงููุดุฑูุน:
- โ Build ููุฌุญ 100%
- โ API Routes ุชุนูู
- โ NextAuth ูุนูู
- โ ุฌุงูุฒ ููุงุณุชุฎุฏุงู

**ูู ูุง ุนููู:**
1. ุงุฑูุน ุงูุชุนุฏููุงุช (`git push`)
2. ุชุฃูุฏ ูู Environment Variables
3. ุงูุชุธุฑ Build
4. ุงุณุชูุชุน ุจูููุนู! ๐

---

**๐ช ุจุงูุชูููู! ูููุนู ุณูุนูู ุงูุขู ุจุฅุฐู ุงููู!**

---

## ๐ ุฑูุงุจุท ุณุฑูุนุฉ:

- [Vercel Dashboard](https://vercel.com/dashboard)
- [Generate Secret](https://generate-secret.vercel.app/32)
- [Supabase](https://supabase.com)
- [Neon](https://neon.tech)

---

**ุตููุน ุจู โค๏ธ ูุญู ูุดุงูู Vercel**
